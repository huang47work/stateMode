state_mode_demo